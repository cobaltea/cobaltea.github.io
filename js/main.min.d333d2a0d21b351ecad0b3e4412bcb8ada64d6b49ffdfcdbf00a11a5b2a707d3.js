document.addEventListener("DOMContentLoaded",function(){initWindowControls(),initThemeToggle(),initKeyboardNavigation(),initImageGalleries(),initCodeCopy(),initThemePersistence()});function initThemeToggle(){const e=document.getElementById("theme-toggle");e&&e.addEventListener("click",function(){const n=document.documentElement.getAttribute("data-theme"),e=n==="dark"?"light":"dark",t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const s=e==="dark"&&t||e==="light"&&!t;localStorage.setItem("themeMatchesSystem",s),playRetroSound("click")});const t=window.matchMedia("(prefers-color-scheme: dark)");t.addEventListener("change",function(e){const t=localStorage.getItem("themeMatchesSystem")==="true",n=localStorage.getItem("theme");if(t){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)}})}function initWindowControls(){document.querySelectorAll(".window-button").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.textContent,t=this.closest(".window");switch(this.style.border="1px inset var(--button-face)",setTimeout(()=>{this.style.border="1px outset var(--button-face)"},100),n){case"_":toggleWindowMinimize(t);break;case"‚ñ°":toggleWindowMaximize(t);break;case"√ó":showCloseDialog(t);break}})})}function toggleWindowMinimize(e){const t=e.querySelector(".window-content");t.style.display==="none"?(t.style.display="block",e.style.height="auto"):(t.style.display="none",e.style.height="auto")}function toggleWindowMaximize(e){e.classList.contains("maximized")?(e.classList.remove("maximized"),e.style.position="static",e.style.top="auto",e.style.left="auto",e.style.width="auto",e.style.height="auto",e.style.zIndex="auto"):(e.classList.add("maximized"),e.style.position="fixed",e.style.top="10px",e.style.left="10px",e.style.width="calc(100vw - 20px)",e.style.height="calc(100vh - 40px)",e.style.zIndex="1000")}function showCloseDialog(e){const t=confirm(`ÂÖ≥Èó≠ÂΩìÂâçÊµÆÁ™óÔºü

Âà∑Êñ∞È°µÈù¢ÂèØÊÅ¢Â§çÊµÆÁ™óÂéüÂßãÊòæÁ§∫Áä∂ÊÄÅüòâ`);t&&(e.style.animation="fadeOut 0.3s ease-out",setTimeout(()=>{e.style.display="none"},300))}function initImageGalleries(){document.querySelectorAll(".image-gallery img").forEach(e=>{e.addEventListener("click",function(){openLightbox(this)}),e.addEventListener("load",function(){this.style.opacity="0",this.style.transition="opacity 0.5s ease",setTimeout(()=>{this.style.opacity="1"},100)})})}function openLightbox(e){const t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.zIndex="10000",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.cursor="pointer";const n=document.createElement("img");n.src=e.src,n.alt=e.alt,n.style.maxWidth="90%",n.style.maxHeight="90%",n.style.border="2px outset var(--border-dark)",t.appendChild(n),document.body.appendChild(t),t.addEventListener("click",function(){document.body.removeChild(t)});const s=function(e){e.key==="Escape"&&(document.body.removeChild(t),document.removeEventListener("keydown",s))};document.addEventListener("keydown",s)}function initCodeCopy(){document.querySelectorAll("pre code").forEach(e=>{const n=e.parentElement,t=document.createElement("button");t.textContent="üìã Copy",t.className="btn",t.style.position="absolute",t.style.top="4px",t.style.right="4px",t.style.fontSize="8px",t.style.padding="2px 4px",n.style.position="relative",n.appendChild(t),t.addEventListener("click",function(){navigator.clipboard.writeText(e.textContent).then(()=>{t.textContent="‚úÖ Copied!",setTimeout(()=>{t.textContent="üìã Copy"},2e3)}).catch(()=>{const n=document.createElement("textarea");n.value=e.textContent,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),t.textContent="‚úÖ Copied!",setTimeout(()=>{t.textContent="üìã Copy"},2e3)})})})}function initThemePersistence(){const e=window.location.href;window.addEventListener("beforeunload",function(){localStorage.setItem("scrollPosition",window.scrollY),localStorage.setItem("lastUrl",e)});const t=localStorage.getItem("scrollPosition"),n=localStorage.getItem("lastUrl");t&&n===e&&window.scrollTo(0,parseInt(t)),localStorage.removeItem("scrollPosition"),localStorage.removeItem("lastUrl")}function playRetroSound(e){const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createGain();switch(n.connect(s),s.connect(t.destination),e){case"click":n.frequency.setValueAtTime(800,t.currentTime),n.frequency.exponentialRampToValueAtTime(400,t.currentTime+.1);break;case"error":n.frequency.setValueAtTime(200,t.currentTime),n.frequency.exponentialRampToValueAtTime(100,t.currentTime+.3);break;case"success":n.frequency.setValueAtTime(400,t.currentTime),n.frequency.exponentialRampToValueAtTime(800,t.currentTime+.2);break}s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3)}window.VintageTheme={playRetroSound,activateRetroMode,openLightbox},console.log("üñ•Ô∏è Vintage Web Theme loaded! Press ‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA for a surprise! üéÆ")